## 悲观锁

**for update 是行锁还是表锁？ **

当 where 条件是索引字段且为具体值时是行锁，否则表锁。

**for update 是读锁还是写锁？ **

一旦用户对表某个行记录施加了锁，则该用户可以查询也可以更新被加锁的数据行，其它用户只能查询但不能更新被加锁的数据行。





## 乐观锁





## 读锁





## 写锁





## 行锁





## 表锁





## 间隙锁



