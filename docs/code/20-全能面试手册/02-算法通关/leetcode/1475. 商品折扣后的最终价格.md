【leetcode刷题】73.商品折扣后的最终价格——Java版

<font color=red>⭐欢迎订阅[《leetcode》](https://blog.csdn.net/skylibiao/category_10867560.html)专栏，每日一题，每天进步⭐</font>

>法1 - 暴力：时间复杂度O(n^2) 对于每个i位置找j。
>
>法2 - 单调栈 时间复杂度O(n)
>
>——leetcode此题热评

## 前言

哈喽，大家好，我是一条。

**糊涂算法，难得糊涂**

<font color=orange><b>点击跳转到[《糊涂算法》](https://blog.csdn.net/skylibiao/category_11292502.html?spm=1001.2014.3001.5482)专栏学习java大厂面试必备数据结构和算法知识！</b></font>

## Question

#### [1475. 商品折扣后的最终价格](https://leetcode-cn.com/problems/final-prices-with-a-special-discount-in-a-shop/)

<font color=green>难度：简单</font>

>给你一个数组 prices ，其中 prices[i] 是商店里第 i 件商品的价格。
>
>商店里正在进行促销活动，如果你要买第 i 件商品，那么你可以得到与 prices[j] 相等的折扣，其中 j 是满足 j > i 且 prices[j] <= prices[i] 的 最小下标 ，如果没有满足条件的 j ，你将没有任何折扣。
>
>请你返回一个数组，数组中第 i 个元素是折扣后你购买商品 i 最终需要支付的价格。
>
> 
>
>示例 1：
>
>```
>输入：prices = [8,4,6,2,3]
>输出：[4,2,4,2,3]
>解释：
>商品 0 的价格为 price[0]=8 ，你将得到 prices[1]=4 的折扣，所以最终价格为 8 - 4 = 4 。
>商品 1 的价格为 price[1]=4 ，你将得到 prices[3]=2 的折扣，所以最终价格为 4 - 2 = 2 。
>商品 2 的价格为 price[2]=6 ，你将得到 prices[3]=2 的折扣，所以最终价格为 6 - 2 = 4 。
>商品 3 和 4 都没有折扣。
>```
>
>示例 2：
>
>```
>输入：prices = [1,2,3,4,5]
>输出：[1,2,3,4,5]
>解释：在这个例子中，所有商品都没有折扣。
>```
>
>示例 3：
>
>```
>输入：prices = [10,1,1,6]
>输出：[9,0,1,6]
>```
>
>
>
>
>提示：
>
>1 <= prices.length <= 500
>1 <= prices[i] <= 10^3

## Solution

>把问题翻译一下，实际是求：
>
>​			**数组每个元素的后面元素中第一个比该元素小的数**
>
>暴力法，双重for循环不用多说，时间复杂度O(n^2)，思考如何去除一重for循环。
>
>由于每次都是向后遍历，那么当前的元素的解找到之后他的存在也就没有意义。
>
>所以考虑使用**单调栈**

- 将元素依次入栈
- 将入栈元素与栈顶元素比较，如果小于，作差，栈顶元素出栈


## Code

>所有`leetcode`代码已同步至[github](https://github.com/lbsys)
>
>欢迎`star`

```java
/**
 * @author 一条coding
 */
class Solution {
    public int[] finalPrices(int[] prices) {
        int n = prices.length;
        Stack<Integer> s = new Stack<>();
        for(int i=0; i<n; i++){
            while(! s.isEmpty() && prices[i] <= prices[s.peek()]){  //4<=8,2<=6
                prices[s.pop()] -= prices[i];   //8-4,6-2,4-2
            }
            s.push(i);  //3
        }
        return prices;
    }
}
```

## Result

> 复杂度分析
>
> - 时间复杂度：O(N) 

![](https://yitiaoit.oss-cn-beijing.aliyuncs.com/img/image-20210920120648313.png)


## 🌈寻宝

>⭐今天是坚持刷题更文的第**73**/100天
>
>⭐各位的<font color=orange>点赞、关注、收藏、评论、订阅</font>就是一条创作的最大动力
>
>⭐更多数据结构和算法讲解欢迎关注专栏[《糊涂算法》](https://blog.csdn.net/skylibiao/category_11292502.html?spm=1001.2014.3001.5482)

为了回馈各位粉丝，礼尚往来，给大家准备了一些<font color=orange><b>学习资料</b></font>

![](https://yitiaoit.oss-cn-beijing.aliyuncs.com/img/iShot2021-08-18 17.50.24.png)

<font color=red size=5><b>点下方卡片👇👇👇关注后回复「算法」领取</b></font>

